<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product List</title>
  <style>
    .productData {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      /* Creates 3 columns */
      /* box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; */
    }
    .productData> div{
      gap:50px;
    }

    .productData img{
      box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
      border-top-left-radius: 50px;
      border-bottom-right-radius: 50px;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <div class="productData"></div>

  <script>
    function displayProducts() {
      fetch("http://localhost:8800/product/")
        .then(response => response.json())
        .then(data => {
          const containerElement = document.querySelector('.productData');

          if (Array.isArray(data)) {
            data.forEach(product => {
              const productElement = document.createElement("div");
              productElement.classList.add("product");

              const imageElement = document.createElement("img");
              imageElement.classList.add("product-image");
              imageElement.src = product.image;
              imageElement.alt = product.name;
              productElement.appendChild(imageElement);

              const nameElement = document.createElement("h2");
              nameElement.classList.add("product-name");
              nameElement.textContent = product.name;
              productElement.appendChild(nameElement);

              const titleElement = document.createElement("p");
              titleElement.classList.add("product-title");
              titleElement.textContent = `$${product.title}`;
              productElement.appendChild(titleElement);

              const priceElement = document.createElement("h2");
              priceElement.classList.add("product-price");
              priceElement.textContent = `$${product.price}`;
              productElement.appendChild(priceElement);

              // Add "Add to Cart" button
              const buttonElement = document.createElement("button");
              buttonElement.textContent = "Add to Cart";
              buttonElement.addEventListener("click", () => {
                addToCart(product);
              });
              productElement.appendChild(buttonElement);

              containerElement.appendChild(productElement);
            });
          }
        })
        .catch(error => {
          console.error(error);
        });
    }

    function addToCart(product) {
      // Implement adding product to cart here
      console.log(`Product "${product.name}" added to cart`);
      alert("product added successfully")
    }

    displayProducts();

  </script>
</body>

</html>